<!DOCTYPE html>
<html>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script charset="utf-8">
// function windowOnLoad() { alert('windowOnLoad() is called.'); } window.onload = windowOnLoad;
startTime = new Date();
jQuery(function (jQuery) {
  var result = jQuery('#result');
  result.text('initialized. (' + (new Date() - startTime)/1000.0 + 'sec)');
  result.append('</br>typeof window.jQuery: ' + typeof window.jQuery);

  var resultText = jQuery('#resultText');
  resultText.text('requesting get text...');
  jQuery.get('http://graph.facebook.com/kazuaki.nishizawa?ignoreCache=' + (new Date())/1000, {}, function (str) {
    result.append('</br>111 typeof window.jQuery: ' + typeof window.jQuery);
    resultText.html('<b><u>result of get text:</u></b> (' + (new Date() - startTime)/1000.0 + 'sec)');
    resultText.append('<br/>' + str);
  }, 'text');

  var resultData = jQuery('#resultData');
  resultData.text('requesting get text...');
  jQuery.get('http://graph.facebook.com/kazuaki.nishizawa?ignoreCache=' + (new Date())/1000, function (data) {
    result.append('</br>222 typeof window.jQuery: ' + typeof window.jQuery);
    resultData.html('<b><u>result of get data:</u></b> (' + (new Date() - startTime)/1000.0 + 'sec)');
    if (typeof data === 'string')
      resultData.append('<br/><b>type: ' + typeof data + '</b></br>' + data);
    else if (typeof data === 'object') {
      var str = '';
      for (var key in data) {
        str += '<br/>' + key + ': ' + data[key];
      }
      resultData.append('<br/><b>type: ' + typeof data + '</b></br>' + str);
    }
    else {
      resultData.append('<br/><b>type: ' + typeof data + '</b></br>' + data);
    }
  });

  var resultJSON = jQuery('#resultJSON');
  resultJSON.text('requesting getJSON ...');
  jQuery.getJSON('http://graph.facebook.com/kazuaki.nishizawa?ignoreCache=' + (new Date())/1000, function (json) {
    result.append('</br>333 typeof window.jQuery: ' + typeof window.jQuery);
    resultJSON.html('<b><u>result of getJSON:</u></b> (' + (new Date() - startTime)/1000.0 + 'sec)');
    var str = '';
    for (var key in json) {
      str += '<font color="gray">' + key + '</font>: <b>' +
        json[key] + '</b> (' + JSON.stringify(json[key]) + ')<br/>';
    }
    str += '<br/>' + JSON.stringify(json);
    resultJSON.after(str);
  });
});
</script>
<body>
<h1>start of HTML</h1>
<hr/><div id="result"><font color="gray">loading...</font></div>
<hr/><div id="resultText"><font color="gray">pending...</font></div>
<hr/><div id="resultData"><font color="gray">pending...</font></div>
<hr/><div id="resultJSON"><font color="gray">pending...</font></div>
<hr/><br/>end of HTML
</body>
</html>
